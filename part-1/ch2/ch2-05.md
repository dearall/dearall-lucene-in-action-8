## 2.5 域的值类型 value type of Field ##

&emsp;&emsp;上一节我们提过，Field 类有多个构造器，多个重载构造器的区别主要在于域的值类型之间的差异。本节我们要探讨的内容就是这个不同的域的值类型。

&emsp;&emsp;在进入域的值类型详细内容之前，先列出当前版本（Lucene 8.11） Field 类的7个重载构造器：
-  **Field(String name, byte[] value, IndexableFieldType type)** 使用二进制值创建域。
-  **Field(String name, byte[] value, int offset, int length, IndexableFieldType type)** 使用二进制值创建域。
-  **Field(String name, BytesRef bytes, IndexableFieldType type)** 使用二进制值创建域。
-  **Field(String name, CharSequence value, IndexableFieldType type)** 使用字符串值创建域
-  **Field(String name, IndexableFieldType type)** protected: 高级应用，没有初始值创建域。仅用于自定义子类。
-  **Field(String name, Reader reader, IndexableFieldType type)** 通过 Reader 作为值创建域，实际上是读取 Reader 中的文本数据。
-  **Field(String name, TokenStream tokenStream, IndexableFieldType type)** 使用 TokenStream 作为值创建域，实际上是读取 TokenStream 中的词元（token）。


<br/><br/>
<a id="1"></a>
## 2.5.1 域的二进制类型值 binary value type of Field ##

&emsp;&emsp;在上述 Field 类重载构造器列表中，前三个都是二进制的域的值类型，在 Field 类内部实例字段 fieldsData 上存储的都是 BytesRef 类型的数据。前两个构造器，是使用构造器参数 byte[] value, int offset, int length 创建了 BytesRef 实例，然后调用了第三个构造器 Field(String name, BytesRef bytes, IndexableFieldType type)。

&emsp;&emsp;二进制的值类型的构造器把二进制类型的数据作为数据源传递给域，在索引时，Lucene 对二进制数据进行编码后存入索引库。不会对这种域进行索引（FieldType.indexOptions() 为 IndexOptions.NONE），也没有词向量 term vectors（ FieldType.storeTermVectors() 为 false）。

Lucene 中利用这种类型建立的域主要用于存储正向索引 DocValues 相关的域类型，例如 Field 直接子类 BinaryDocValuesField 以 BytesRef 类型作为域的数据源，并且设置域类型：TYPE.setDocValuesType(DocValuesType.BINARY)。而 DoubleRangeDocValuesField, FloatRangeDocValuesField, IntRangeDocValuesField, LongRangeDocValuesField 都是 BinaryDocValuesField 的子类，其内部数据存储即是通过这种二进制类型。Field 的另一个直接子类 SortedDocValuesField 也使用二进制类型数据作为域的数据源，它的域类型设置为 TYPE.setDocValuesType(DocValuesType.SORTED)。

<br/><br/>
<a id="2"></a>
## 2.5.2 域的字符序列类型值 CharSequence value type of Field ##







